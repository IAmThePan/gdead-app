<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/core-icons/core-icons.html">
<link rel="import" href="bower_components/core-icons/av-icons.html">

<polymer-element name="play-area" attributes="">
    <template>
        <style>
            #play-area {
                display: flex;
                position: absolute;
                width: 100%;
                height: 80px;
                background-color: white;
                bottom: 0px;
            }
            
            #leftButton {
                position: relative;
                height: 0;
                width: 80px;
            }
            #albumart {
                position: absolute;
                background-image: url('images/gd-logo.svg');
                background-color: black;
                background-size: 80px 80px;
                height: 80px;
                width: 80px;
                
                filter: blur(3px);
                -webkit-filter: blur(3px);
            }
            
            #center {
                color: white;
                background-color: black;
                font-size: 1.3em;
            }
            #title {
                font-weight: 600;
                margin-left: 15px;
            }
            #album {
                margin-left: 15px;
            }
        </style>
        
        <div id="play-area">
            <div id="leftButton">
                <div id="albumart"></div>
                <core-icon icon="av:play-arrow" on-click="{{playPause}}"
                           style="position:absolute; height:60px; width:60px; margin:10px; color:black;">
                </core-icon>
            </div>
            <div id="center" flex layout vertical center-justified>
                <div id="title">{{title}}</div>
                <div id="album">{{album}}</div>
            </div>
            <div id="rightbutton"></div>
        </div>
        
        <audio id="audio">
               <source id="source" type="audio/mpeg">
        </audio>
    </template>
    
    <script>
        Polymer("play-area", {
            playlist: [
                {
                    "src": "https://archive.org/download/gd1985-09-11.MixedSource.Darby.118336.Flac2448/gd1985-09-11.MixedSource.t12.mp3",
                    "title": "Terrapin Station",
                    "album": "Live at the Red Rocks"
                },
                {
                    "src": "https://archive.org/download/gd1985-09-11.MixedSource.Darby.118336.Flac2448/gd1985-09-11.MixedSource.t13.mp3",
                    "title": "Terrapin Station II",
                    "album": "Live at the Red Rocks"
                },
                {
                    "src": "https://archive.org/download/gd1985-09-11.MixedSource.Darby.118336.Flac2448/gd1985-09-11.MixedSource.t17.mp3",
                    "title": "Stella Blue",
                    "album": "Live at the Red Rocks"
                }
            ],
            title: "",
            album: "",
            
            //Functions
            play: function () {
                var track = this.playlist.shift();
                this.title = track.title;
                this.album = track.album;
                this.$.source.src = track.src;
                this.$.audio.load();
                this.$.audio.play();
            },
            ready: function () {
            }
        });
    </script>
</polymer-element>







